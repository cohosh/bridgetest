Prerequesites:
#Python 2.7 and related packages
apt install python python-pip
pip install stem

#obfs4 and tor
apt install obfs4proxy tor torsocks

### Obfs4 Probing Tests ###

[SITENAME] is an arbitrary identifier for the probe site
that you have to choose.

The bridge_lines.txt file should contain a list of bridges to test. Each line corresponds to a bridge and should be of the form:
        <nickname>,<bridge_line>
where <bridge_line> is the line to go in the torrc file and is structured as follows:
        obfs4 <IP:Port> <FINGERPRINT> cert=<CERT> iat-mode=0

Add to crontab to run tests 4x a day:
	0 */6 * * * cd ~/bridgetest && ./bridgetest.sh [SITENAME]

Generate a CSV file from logs:
	find log -name '*.log' | sort | ./makecsv > bridgetest.csv 2> bandwidth.csv

Make a graph:
	Rscript graph.R bridgetest.csv

### Snowflake Probing Tests ###

Add to crontab to run tests 4x a day (offset from obfs4 tests):
	0 1-23/6 * * * cd ~/bridgetest && ./snowflaketest.sh [SITENAME]

Generate a CSV file from logs:
	find snowflake_log -name '*.log' | sort | ./snowflakecsv > snowflaketest.csv

